FROM python:3.11

WORKDIR /usr/src/testsuite

COPY requirements.txt ./
RUN pip install --no-cache-dir -r requirements.txt

ARG SERVICE_URL_ARG
ENV SERVICE_URL $SERVICE_URL_ARG

ARG PG_DB_ARG
ARG PG_HOST_ARG
ARG PG_PORT_ARG
ARG PG_USER_ARG
ARG PG_PASS_ARG
ARG PG_SCHEMA_ARG

ENV PG_DB $PG_DB_ARG
ENV PG_HOST $PG_HOST_ARG
ENV PG_PORT $PG_PORT_ARG
ENV PG_USER $PG_USER_ARG
ENV PG_PASS $PG_PASS_ARG
ENV PG_SCHEMA $PG_SCHEMA_ARG
